import t from"../lib/format-bytes.js";import o from"files-pipe/lib/deepmerge.js";import r from"files-pipe/options/index.js";import i from"./css.js";import s from"./html.js";import f from"./js.js";import m from"./map.js";import p from"./svg.js";var h=o(r,{css:i,html:s,js:f,svg:p,map:m,pipe:{failed:async e=>`Error: Cannot compress file ${e.inputPath}!`,passed:async e=>e.fileSizeBefore>Buffer.byteLength(e.buffer.toString()),accomplished:async e=>`Compressed ${e.inputPath} for ${await t(e.fileSizeBefore-e.fileSizeAfter)} (${((e.fileSizeBefore-e.fileSizeAfter)/e.fileSizeBefore*100).toFixed(2)}% reduction) in ${e.outputPath}.`,changed:async e=>(e.info.total=(e.info.total?e.info.total:0)+(e.ongoing.fileSizeBefore-e.ongoing.fileSizeAfter),e)}});export{h as default};
