import{deepmerge as a}from"deepmerge-ts";import p from"./lib/pipe-all.js";import e from"./options/index.js";function i(r={}){var o;const t=a(e,r);return t.path=(o=t.path)!=null&&o.endsWith("/")?t.path:`${t.path}/`,{name:"astro-compress",hooks:{"astro:config:done":async n=>{t.path=t.path?t.path:n.config.outDir.toString()},"astro:build:done":async()=>{await p(t,t.logger)}}}}export{i as default};
