import{blue as m,green as d}from"kleur/colors";import{systemDir as c}from"../Function/Integration";import o from"node:path";function s(t){let{base:r,dir:e}=o.parse(t);return e=o.normalize(e),e=e.replace(/\\/g,"/"),e=e.replace(c,""),e.endsWith("/")||(e=e+"/"),{base:r,dir:e}}var y=(await import("typescript-esbuild/Target/Function/Merge.js")).default((await import("files-pipe/Target/Variable/Option.js")).default,{CSS:{csso:(await import("./CSS/csso.js")).default,lightningcss:(await import("./CSS/lightningcss.js")).default},HTML:{"html-minifier-terser":(await import("./HTML/html-minifier-terser.js")).default},JavaScript:{terser:(await import("./JavaScript/terser.js")).default},Image:{sharp:(await import("./Image/sharp.js")).default},SVG:{svgo:(await import("./SVG/svgo.js")).default},Map:(await import("./Map.js")).default,Parser:(await import("./Parser.js")).default,Action:{Failed:async({Input:t})=>{const{base:r,dir:e}=s(t);return`${n("Error:")} Cannot compress file ${a(e)}${n(r)}`},Passed:async({Before:t,Buffer:r})=>t>Buffer.byteLength(r.toString()),Accomplished:async({Input:t,Before:r,After:e})=>{const{base:f,dir:p}=s(t),i=r-e;return console.log("\u251C\u2500 "),`${a(`(-${await(await import("files-pipe/Target/Function/Bytes.js")).default(i)})`)}	${d(`${(i/r*100).toFixed(2)}%`)} reduction in ${a(p)}${m(f)}`},Changed:async t=>Object.defineProperty(t.Info,"Total",{value:(t.Info.Total?t.Info.Total:0)+(t.On.Before-t.On.After),configurable:!0,writable:!0})&&t}});const{gray:a,red:n}=await import("kleur");export{y as default};
